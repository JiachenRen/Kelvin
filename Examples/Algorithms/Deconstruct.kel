def deconstruct(n) {
    if (n is @function) {
        return deconstruct(n as @vector)
    };

    if (n is @vector) {
        return map(n) {
            deconstruct($0)
        }
    };

    return n
}

println deconstruct(a*b+c^d*f)
