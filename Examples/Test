# Comprehensive test
# true = PASS
# false = FAIL

println (c := f(3,4)...3; c) == {f(3, 4), f(3, 4), f(3, 4)}
println (a...2...3) == {{a, a}, {a, a}, {a, a}}

def f() = ({1, 2, 3, x} | $0 ^ 2 -> define(f(x), sum($0)); f(12) -> $0...5 | $0 % 7 -> (sum($0)!)° -> define(a, $0 % 12345 / 3 * e); cos(log(a) ^ 2) * √((5!)!) * 360°)
println f() == 3.846913688192367E99
del f
del a

println ((1 + (a - 1 - (b - 3)) + 4) == (-1 * b + a + 7))

