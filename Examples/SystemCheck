# Run all Kelvin scripts and tests and do a pansystemic performance analysis.

# Replace with your absolute directory to Examples
def examples_dir = "/Users/jiachenren/Library/Mobile Documents/com~apple~CloudDocs/Documents/Developer/Kelvin/Examples/"

def start_time = time()
def files = {
    "Misc/Arcane",
    "Misc/DiceRoll",
    "Misc/FindBest",
    "Misc/RepeatMapDemo",
    "Misc/StatProblem",
    "Misc/TwoSampleTTest",
    "Tests",
    "Probability",
    "Algebra/Trigonometry",
    "Algebra/Factorization",
    "Calculus/Differentiation",
    "Calculus/Integration",
    "Linear Algebra/Vector",
    "Linear Algebra/Matrix",
    "Statistics/OneVar",
    "Statistics/Distribution",
    "Statistics/Regression"
}

def file_paths = (files | (examples_dir & $0))
file_paths | (run $0)

def dev_files = {
    "Conditionals",
    "Benchmarking",
    "ErrorHandling",
    "ForLoop",
    "Function",
    "Variable",
    "List",
    "Loops",
    "Multiline",
    "Recursion",
    "String",
    "Subscript",
    "TrailingClosure",
    "WhileLoop"
}

for (dev_file: dev_files) {
    full_path := examples_dir & "Developer/" dev_file
    run full_path
}

def alg_files = {
    "BinarySearch",
    "FlatMap",
    "Deconstruct",
    "Contains",
    "Recursion"
}

map(alg_files) {
    run examples_dir & "Developer/Algorithms/" & $0
}

println "System check completed in " & (time() - start_time) & " seconds."
